{"version":3,"sources":["platform.js","../bower_components/gritter/js/jquery.gritter.min.js","../bower_components/metisMenu/dist/metisMenu.js","modal.js","activity.js","forms.js","main.js"],"names":["code4Loading","action","$","css","fn","gritter","options","position","addPosition","class_name","fade_in_speed","fade_out_speed","time","add","params","Gritter","e","err","console","error","alert","remove","id","removeSpecific","removeAll","stop","_custom_timer","_item_count","_is_setup","_tpl_close","_tpl_title","_tpl_item","_tpl_wrap","text","this","_runSetup","title","image","sticky","hover_state","item_class","close_icon","time_alive","_verifyWrapper","number","tmp","each","i","val","isFunction","image_str","_str_replace","addClass","prepend","append","item","fadeIn","_setFadeTimer","bind","event","type","_restoreItemIfFading","_hoverState","find","click","_countRemoveWrapper","unique_id","manual_close","length","_fade","unbind_events","fade","speed","unbind","animate","opacity","height","show","removeClass","hide","clearTimeout","opt","timer_str","setTimeout","before_close","after_close","wrap","fadeOut","search","replace","subject","count","j","temp","repl","sl","fl","f","concat","r","s","ra","Array","sa","window","undefined","split","join","jQuery","transitionEnd","el","document","createElement","transEndEventNames","WebkitTransition","MozTransition","OTransition","transition","name","style","end","Plugin","option","$this","data","extend","MetisMenu","DEFAULTS","emulateTransitionEnd","duration","called","$el","one","callback","trigger","$transition","special","mmTransitionEnd","bindType","delegateType","handle","target","is","handleObj","handler","apply","arguments","element","$element","transitioning","init","TRANSITION_DURATION","toggle","doubleTapToGo","activeClass","collapseClass","collapseInClass","collapsingClass","prototype","has","children","attr","not","on","self","$parent","parent","$list","preventDefault","hasClass","stopPropagation","location","elem","siblings","complete","proxy","scrollHeight","call","offsetHeight","old","metisMenu","Constructor","noConflict","ready","body","url","ajax","method","success","$id","modal","log","substr","Activity","defaults","$body","$window","activityFeedUrl","watchThreadUrl","_init","getActivityFeed","feedId","watchThread","feedName","requestData","feedSubject","async","global","dataType","textStatus","jqXHR","showFeed","errorThrown","_handleServerError","platform","_handleServerResponse","reloadFeed","html","activity","C4Forms","unloadMessage","monitorForUnsavedChanges","unsaved","alertUnsavedChanges","beforeSubmit","showRequest","showResponse","showErrors","ajaxForm","message","confirm","formData","jqForm","empty","responseText","statusText","xhr","$form","status","redirect","evalScript","eval","showFieldErrors","errors","parseJSON","fieldName","messageArray","errorLabel","alertBox","op","lp","response","toastr","c4forms","ajaxSuccess","Platform","userId","currentUserId","path_assets","menuMinified","tooltip","popover","_timers","store","value","login","lockout","lockoutExit","delay","JSON","parse","actions","command","reload","notifications","check","handleNotifications","DataTable","showError","request","settings","ajaxComplete","XMLHttpRequest","ajaxOptions","slug","str","toLowerCase","from","to","l","RegExp","charAt"],"mappings":"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","file":"main.js","sourcesContent":["(function($, window, document) {\n    'use strict';\n    var defaults = {\n        path_assets: \"/packages/code4/platform/\",\n        menuMinified: false\n    };\n\n    function Platform(options) {\n        this.opt = $.extend({}, defaults, options);\n        this.$body = $(document.body);\n        this.$window = $(window);\n        this.userId = currentUserId;\n    }\n\n    Platform.prototype = {\n        _init: function(){\n            var self = this;\n            //BOOTSTRAP TOOLTIPS and POPOVERS\n            $('[rel=tooltip],[data-rel=tooltip]').tooltip({html: true});\n            $('[rel=popover],[data-rel=popover]').popover({html:true});\n\n            $('#testReload').on('click', function() {\n                $.ajax({\n                        url: '/testReload',\n                        async: false,\n                        global: false,\n                        type: \"GET\",\n                        dataType: \"json\",\n                        success: function( data, textStatus, jqXHR ){\n                            self._handleServerResponse(jqXHR);\n                        },\n                        error: function(jqXHR, textStatus, errorThrown) {\n                            self._handleServerError(jqXHR, textStatus, errorThrown);\n                        }\n                    }\n                );\n            });\n\n\n            //Load from cookies\n            /*var retrievedObject = $.cookie('platform');\n\n            if (retrievedObject) {\n                this.opt = $.extend({}, this.opt, JSON.parse(retrievedObject));\n            }\n\n            if (this.opt.menuMinified) { $('body').addClass('minified'); }*/\n\n            this._timers();\n        },\n        _timers: function() {\n            var self = this;\n        },\n        store: function(item, value) {\n            /*this.opt[item] = value;\n            $.removeCookie('platform');\n            $.cookie('platform', JSON.stringify(this.opt), { expires: 365, path: '/' });*/\n        },\n\n        //Login window\n        login: function() {\n\n        },\n\n        //lockout\n        lockout: function() {\n            var self = this;\n            $.ajax({\n                    url: '/lockout/' + self.userId,\n                    async: false,\n                    global: false,\n                    type: \"GET\",\n                    dataType: \"html\",\n                    success: function( data, textStatus, jqXHR ){\n                        self.$body.find('.fullScreenModal').remove();\n                        self.$body.addClass(\"modal-open\");\n                        self.$body.append('<div class=\"fullScreenModal gray-bg animated slideInDown\">' + data + '</div>')\n                    },\n                    error: function(jqXHR, textStatus, errorThrown) {\n                        self._handleServerError(jqXHR, textStatus, errorThrown);\n                    }\n                }\n            );\n        },\n\n        lockoutExit: function() {\n            var self = this;\n            self.$body.removeClass(\"modal-open\");\n            $('.fullScreenModal').removeClass('slideInDown').addClass('slideOutUp').delay(100).remove();\n        },\n\n        _handleServerResponse: function(jqXHR) {\n            var self = this;\n            if (jqXHR.status == 200) {\n                var responseText = JSON.parse(jqXHR.responseText);\n                if ('actions' in responseText) {\n                    $.each(responseText.actions, function(i, actions){\n\n                        for(var action in actions) {\n                            var command = actions[action];\n                            if (action === 'exitLockout') {\n                                self.lockoutExit();\n                            }\n                            if (action === 'redirect') {\n                                window.location.replace(command);\n                            }\n                            if (action === 'reloadFeed') {\n                                $.activity.reloadFeed(command);\n                            }\n                            if (action === 'reload') {\n                                window.location.reload(command);\n                            }\n                            if (action === 'eval') {\n                                eval(command);\n                            }\n                            if (action === 'checkNotifications') {\n                                $.notifications.check();\n                            }\n                            if (action === 'notifications') {\n                                $.notifications.handleNotifications(command);\n                            }\n                            if (action === 'reloadDataTable') {\n                                $(command).DataTable().ajax.reload(null, false);\n                            }\n                        }\n                    });\n                }\n            }\n        },\n\n        _handleServerError: function(jqXHR, textStatus, errorThrown) {\n            console.log(jqXHR);\n            var self = this;\n            if (jqXHR.status == 401) {\n                //unauthorized\n                $.platform.lockout();\n            } else if (jqXHR.status == 302) {\n                //redirect\n                console.log('redirect ' + jqXHR.responseText);\n                window.location.replace(jqXHR.responseText);\n            } else if (jqXHR.status == 403) {\n                //Forbidden\n                $.notifications.showError(\"Brak uprawnień\", \"Nie masz uprawnień do tego zasobu!\");\n            } else if (jqXHR.status == 500) {\n                //Internal server error\n                $.notifications.showError(\"Błąd serwera\", \"Jeśli będzie się powtarzał, skontaktuj się z administratorem!\");\n            }\n        }\n    };\n    $.platform = new Platform();\n\n})(jQuery, window, document);\n\n\n$( document ).ready( function(){\n\n    //$.cookie.json = true;\n    $.platform._init();\n    $.notifications._init();\n    $.notifications.check();\n    $.activity._init();\n    $.c4forms._init();\n\n    //Automatycznie sprawdza notyfikacje po kazdym wywolaniu przez ajax\n    //wyjątkiem jest sytuacja kiedy wywolanie to sprawdzenie notyfikacji \n    $(document).ajaxSuccess(function(event, request, settings) {\n        //console.log(settings);\n        //if (!(isset(settings.data) && isset(settings.data.responseVariant))) $.notifications.check();\n    });\n\n    $(document).ajaxComplete(function(event, XMLHttpRequest, ajaxOptions){\n        //console.log(ajaxOptions);\n    });\n} );\n\n\nfunction code4Loading(action) {\n    if (action == 'start') {\n        $('#code4-loading').css('right', '0px');\n    }\n    else {\n        $('#code4-loading').css('right', '-135px');\n    }\n\n}\n\n","/*\n * Gritter for jQuery\n * http://www.boedesign.com/\n *\n * Copyright (c) 2012 Jordan Boesch\n * Dual licensed under the MIT and GPL licenses.\n *\n * Date: February 24, 2012\n * Version: 1.7.4\n * \n * @modified by Jason Feriante\n * I had to make changes to the library in order to get it working with AngularJS\n * Date: June 6, 2013\n * Version: 1.7.5 / forked.\n */\n(function($){$.fn.gritter=$.gritter={};$.fn.gritter.options=$.gritter.options={position:'',addPosition:'bottom',class_name:'',fade_in_speed:'medium',fade_out_speed:1000,time:6000};$.fn.gritter.add=$.gritter.add=function(params){try{return Gritter.add(params||{})}catch(e){var err='Gritter Error: '+e;(typeof(console)!=='undefined'&&console.error)?console.error(err,params):alert(err)}};$.fn.gritter.remove=$.gritter.remove=function(id,params){Gritter.removeSpecific(id,params||{})};$.fn.gritter.removeAll=$.gritter.removeAll=function(params){Gritter.stop(params||{})};var Gritter={position:'',addPosition:'',fade_in_speed:'',fade_out_speed:'',time:'',_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<div class=\"gritter-close\"></div>',_tpl_title:'<span class=\"gritter-title\">[[title]]</span>',_tpl_item:'<div id=\"gritter-item-[[number]]\" class=\"gritter-item-wrapper [[item_class]]\" style=\"display:none\"><div class=\"gritter-top\"></div><div class=\"gritter-item\">[[close]][[image]]<div class=\"[[class_name]]\">[[title]]<p>[[text]]</p></div><div style=\"clear:both\"></div></div><div class=\"gritter-bottom\"></div></div>',_tpl_wrap:'<div id=\"gritter-notice-wrapper\"></div>',add:function(params){if(typeof(params)==='string'){params={text:params}}if(params.text===null){throw'You must supply \"text\" parameter.'}if(!this._is_setup){this._runSetup()}var title=params.title,text=params.text,image=params.image||'',sticky=params.sticky||false,hover_state=params.hover_state||true,item_class=params.class_name||$.gritter.options.class_name,position=$.gritter.options.position,close_icon=params.close_icon||this._tpl_close,time_alive=params.time||'';this._verifyWrapper();this._item_count++;var number=this._item_count,tmp=this._tpl_item;$(['before_open','after_open','before_close','after_close']).each(function(i,val){Gritter['_'+val+'_'+number]=($.isFunction(params[val]))?params[val]:function(){}});this._custom_timer=0;if(time_alive){this._custom_timer=time_alive}var image_str=(image!=='')?'<img src=\"'+image+'\" class=\"gritter-image\" />':'',class_name=(image!=='')?'gritter-with-image':'gritter-without-image';if(title){title=this._str_replace('[[title]]',title,this._tpl_title)}else{title=''}tmp=this._str_replace(['[[title]]','[[text]]','[[close]]','[[image]]','[[number]]','[[class_name]]','[[item_class]]'],[title,text,close_icon,image_str,this._item_count,class_name,item_class],tmp);if(this['_before_open_'+number]()===false){return false}if(this.addPosition==='top'){$('#gritter-notice-wrapper').addClass(position).prepend(tmp)}else{$('#gritter-notice-wrapper').addClass(position).append(tmp)}var item=$('#gritter-item-'+this._item_count);item.fadeIn(this.fade_in_speed,function(){Gritter['_after_open_'+number]($(this))});if(!sticky){this._setFadeTimer(item,number)}$(item).bind('mouseenter mouseleave',function(event){if(event.type==='mouseenter'){if(!sticky){Gritter._restoreItemIfFading($(this),number)}}else{if(!sticky){Gritter._setFadeTimer($(this),number)}}if(hover_state!=='no'){Gritter._hoverState($(this),event.type)}});$(item).find('.gritter-close').click(function(){Gritter.removeSpecific(number,{},null,true)});return number},_countRemoveWrapper:function(unique_id,e,manual_close){e.remove();this['_after_close_'+unique_id](e,manual_close);if($('.gritter-item-wrapper').length===0){$('#gritter-notice-wrapper').remove()}},_fade:function(e,unique_id,params,unbind_events){var params=params||{},fade=(typeof(params.fade)!=='undefined')?params.fade:true,fade_out_speed=params.speed||this.fade_out_speed,manual_close=unbind_events;this['_before_close_'+unique_id](e,manual_close);if(unbind_events){e.unbind('mouseenter mouseleave')}if(fade){e.animate({opacity:0},fade_out_speed,function(){e.animate({height:0},300,function(){Gritter._countRemoveWrapper(unique_id,e,manual_close)})})}else{this._countRemoveWrapper(unique_id,e)}},_hoverState:function(e,type){if(type=='mouseenter'){e.addClass('hover');e.find('.gritter-close').show()}else{e.removeClass('hover');e.find('.gritter-close').hide()}},removeSpecific:function(unique_id,params,e,unbind_events){if(!e){var e=$('#gritter-item-'+unique_id)}this._fade(e,unique_id,params||{},unbind_events)},_restoreItemIfFading:function(e,unique_id){clearTimeout(this['_int_id_'+unique_id]);e.stop().css({opacity:'',height:''})},_runSetup:function(){for(opt in $.gritter.options){this[opt]=$.gritter.options[opt]}this._is_setup=1},_setFadeTimer:function(e,unique_id){var timer_str=(this._custom_timer)?this._custom_timer:this.time;this['_int_id_'+unique_id]=setTimeout(function(){Gritter._fade(e,unique_id)},timer_str)},stop:function(params){var before_close=($.isFunction(params.before_close))?params.before_close:function(){};var after_close=($.isFunction(params.after_close))?params.after_close:function(){};var wrap=$('#gritter-notice-wrapper');before_close(wrap);wrap.fadeOut(function(){$(this).remove();after_close()})},_str_replace:function(search,replace,subject,count){var i=0,j=0,temp='',repl='',sl=0,fl=0,f=[].concat(search),r=[].concat(replace),s=subject,ra=r instanceof Array,sa=s instanceof Array;s=[].concat(s);if(count){this.window[count]=0}for(i=0,sl=s.length;i<sl;i++){if(s[i]===''){continue}for(j=0,fl=f.length;j<fl;j++){temp=s[i]+'';repl=ra?(r[j]!==undefined?r[j]:''):r[0];s[i]=(temp).split(f[j]).join(repl);if(count&&s[i]!==temp){this.window[count]+=(temp.length-s[i].length)/f[j].length}}}return sa?s:s[0]},_verifyWrapper:function(){if($('#gritter-notice-wrapper').length==0){$('body').append(this._tpl_wrap)}}}})(jQuery);","/*\n * metismenu - v2.1.0\n * A jQuery menu plugin\n * https://github.com/onokumus/metisMenu#readme\n *\n * Made by Osman Nuri Okumuş <onokumus@gmail.com> (https://github.com/onokumus)\n * Under MIT License\n */\n\n(function($) {\n  'use strict';\n\n  function transitionEnd() {\n    var el = document.createElement('mm');\n\n    var transEndEventNames = {\n      WebkitTransition: 'webkitTransitionEnd',\n      MozTransition: 'transitionend',\n      OTransition: 'oTransitionEnd otransitionend',\n      transition: 'transitionend'\n    };\n\n    for (var name in transEndEventNames) {\n      if (el.style[name] !== undefined) {\n        return {\n          end: transEndEventNames[name]\n        };\n      }\n    }\n    return false;\n  }\n\n  $.fn.emulateTransitionEnd = function(duration) {\n    var called = false;\n    var $el = this;\n    $(this).one('mmTransitionEnd', function() {\n      called = true;\n    });\n    var callback = function() {\n      if (!called) {\n        $($el).trigger($transition.end);\n      }\n    };\n    setTimeout(callback, duration);\n    return this;\n  };\n\n  var $transition = transitionEnd();\n  if (!!$transition) {\n    $.event.special.mmTransitionEnd = {\n      bindType: $transition.end,\n      delegateType: $transition.end,\n      handle: function(e) {\n        if ($(e.target).is(this)) {\n          return e.\n          handleObj.\n          handler.\n          apply(this, arguments);\n        }\n      }\n    };\n  }\n\n  var MetisMenu = function(element, options) {\n    this.$element = $(element);\n    this.options = $.extend({}, MetisMenu.DEFAULTS, options);\n    this.transitioning = null;\n\n    this.init();\n  };\n\n  MetisMenu.TRANSITION_DURATION = 350;\n\n  MetisMenu.DEFAULTS = {\n    toggle: true,\n    doubleTapToGo: false,\n    activeClass: 'active',\n    collapseClass: 'collapse',\n    collapseInClass: 'in',\n    collapsingClass: 'collapsing'\n  };\n\n  MetisMenu.prototype.init = function() {\n    var $this = this;\n    var activeClass = this.options.activeClass;\n    var collapseClass = this.options.collapseClass;\n    var collapseInClass = this.options.collapseInClass;\n\n    this\n      .$element\n      .find('li.' + activeClass)\n      .has('ul')\n      .children('ul')\n      .attr('aria-expanded', true)\n      .addClass(collapseClass + ' ' + collapseInClass);\n\n    this\n      .$element\n      .find('li')\n      .not('.' + activeClass)\n      .has('ul')\n      .children('ul')\n      .attr('aria-expanded', false)\n      .addClass(collapseClass);\n\n    //add the 'doubleTapToGo' class to active items if needed\n    if (this.options.doubleTapToGo) {\n      this\n        .$element\n        .find('li.' + activeClass)\n        .has('ul')\n        .children('a')\n        .addClass('doubleTapToGo');\n    }\n\n    this\n      .$element\n      .find('li')\n      .has('ul')\n      .children('a')\n      .on('click.metisMenu', function(e) {\n        var self = $(this);\n        var $parent = self.parent('li');\n        var $list = $parent.children('ul');\n        e.preventDefault();\n\n        if ($parent.hasClass(activeClass) && !$this.options.doubleTapToGo) {\n          $this.hide($list);\n          self.attr('aria-expanded',false);\n        } else {\n          $this.show($list);\n          self.attr('aria-expanded',true);\n        }\n\n        //Do we need to enable the double tap\n        if ($this.options.doubleTapToGo) {\n          //if we hit a second time on the link and the href is valid, navigate to that url\n          if ($this.doubleTapToGo(self) && self.attr('href') !== '#' && self.attr('href') !== '') {\n            e.stopPropagation();\n            document.location = self.attr('href');\n            return;\n          }\n        }\n      });\n  };\n\n  MetisMenu.prototype.doubleTapToGo = function(elem) {\n    var $this = this.$element;\n    //if the class 'doubleTapToGo' exists, remove it and return\n    if (elem.hasClass('doubleTapToGo')) {\n      elem.removeClass('doubleTapToGo');\n      return true;\n    }\n    //does not exists, add a new class and return false\n    if (elem.parent().children('ul').length) {\n      //first remove all other class\n      $this\n        .find('.doubleTapToGo')\n        .removeClass('doubleTapToGo');\n      //add the class on the current element\n      elem.addClass('doubleTapToGo');\n      return false;\n    }\n  };\n\n  MetisMenu.prototype.show = function(el) {\n    var activeClass = this.options.activeClass;\n    var collapseClass = this.options.collapseClass;\n    var collapseInClass = this.options.collapseInClass;\n    var collapsingClass = this.options.collapsingClass;\n    var $this = $(el);\n    var $parent = $this.parent('li');\n    if (this.transitioning || $this.hasClass(collapseInClass)) {\n      return;\n    }\n\n    $parent.addClass(activeClass);\n\n    if (this.options.toggle) {\n      this.hide($parent.siblings().children('ul.' + collapseInClass).attr('aria-expanded', false));\n    }\n\n    $this\n      .removeClass(collapseClass)\n      .addClass(collapsingClass)\n      .height(0);\n\n    this.transitioning = 1;\n    var complete = function() {\n      $this\n        .removeClass(collapsingClass)\n        .addClass(collapseClass + ' ' + collapseInClass)\n        .height('')\n        .attr('aria-expanded', true);\n      this.transitioning = 0;\n    };\n    if (!$transition) {\n      return complete.call(this);\n    }\n    $this\n      .one('mmTransitionEnd', $.proxy(complete, this))\n      .emulateTransitionEnd(MetisMenu.TRANSITION_DURATION)\n      .height($this[0].scrollHeight);\n  };\n\n  MetisMenu.prototype.hide = function(el) {\n    var activeClass = this.options.activeClass;\n    var collapseClass = this.options.collapseClass;\n    var collapseInClass = this.options.collapseInClass;\n    var collapsingClass = this.options.collapsingClass;\n    var $this = $(el);\n\n    if (this.transitioning || !$this.hasClass(collapseInClass)) {\n      return;\n    }\n\n    $this.parent('li').removeClass(activeClass);\n    $this.height($this.height())[0].offsetHeight;\n\n    $this\n      .addClass(collapsingClass)\n      .removeClass(collapseClass)\n      .removeClass(collapseInClass);\n\n    this.transitioning = 1;\n\n    var complete = function() {\n      this.transitioning = 0;\n      $this\n        .removeClass(collapsingClass)\n        .addClass(collapseClass)\n        .attr('aria-expanded', false);\n    };\n\n    if (!$transition) {\n      return complete.call(this);\n    }\n    $this\n      .height(0)\n      .one('mmTransitionEnd', $.proxy(complete, this))\n      .emulateTransitionEnd(MetisMenu.TRANSITION_DURATION);\n  };\n\n  function Plugin(option) {\n    return this.each(function() {\n      var $this = $(this);\n      var data = $this.data('mm');\n      var options = $.extend({},\n        MetisMenu.DEFAULTS,\n        $this.data(),\n        typeof option === 'object' && option\n      );\n\n      if (!data) {\n        $this.data('mm', (data = new MetisMenu(this, options)));\n      }\n      if (typeof option === 'string') {\n        data[option]();\n      }\n    });\n  }\n\n  var old = $.fn.metisMenu;\n\n  $.fn.metisMenu = Plugin;\n  $.fn.metisMenu.Constructor = MetisMenu;\n\n  $.fn.metisMenu.noConflict = function() {\n    $.fn.metisMenu = old;\n    return this;\n  };\n\n})(jQuery);\n","$(document).ready(function () {\n\n    $(document.body).on('click', '.loadInModal', function (e) {\n        e.preventDefault();\n        var url = $(this).attr('href');\n\n        $.ajax({\n            url: url,\n            method: 'get',\n            success: function (data) {\n                $id = $(data).find('.modal').attr('id');\n                $(data).modal('show');\n            },\n            error: function (data) {\n            }\n        });\n        return false;\n    });\n\n    $(document.body).on('click', '[data-modal]', function (e) {\n        e.preventDefault();\n        var url;\n        if ($(this).attr('data-modal') !== '') {\n            url = $(this).attr('data-modal');\n        }\n        else if ($(this).attr('href') !== '') {\n            url = $(this).attr('href');\n        }\n\n        if (url === '') {\n            console.log('No target/url for modal');\n            return;\n        }\n\n        //Jeżeli url rozpoczyna się na # lub . to znaczy że jest to selector\n        if (url.substr(0,1) === '#' || url.substr(0,1) === '.') {\n            $(url).modal('show');\n            return;\n        }\n\n        //url to url więc ładujemy z niego wszystko jako modal\n        $.ajax({\n            url: url,\n            method: 'get',\n            success: function (data) {\n                $(data).modal('show');\n            },\n            error: function (data) {\n            }\n        });\n        return false;\n\n    });\n\n\n\n\n    //EDIT MODAL\n    $(document.body).on('click', '.editModal', function(e){\n        e.preventDefault();\n        var url = $(this).attr('href');\n\n        $.ajax({\n            url: url,\n            method: 'get',\n            success: function(data){\n                $id = $(data).find('.modal').attr('id');\n                $(data).modal('show');\n            },\n            error: function(data){}\n        });\n\n        return false;\n\n    });\n\n\n});","(function($, window, document) {\n    'use strict';\n    var defaults = {\n        activityFeedUrl: '/getActivityFeed',\n        watchThreadUrl: '/watchThread'\n    };\n\n    function Activity(options) {\n        this.opt = $.extend({}, defaults, options);\n        this.$body = $(document.body);\n        this.$window = $(window);\n    }\n\n    Activity.prototype = {\n        _init: function(){\n            var self = this;\n\n            //data-action getActivityFeed\n            $('[data-action=getActivityFeed]').each(function(i, el){\n                self.getActivityFeed(el);\n            });\n\n            //data-action=\"watch_thread\" data-thread=\"{!! $thread->id !!}\"\n            $(document).on('click', '[data-action=watchThread]', function(){\n                var feedId = $(this).attr('data-thread');\n                self.watchThread(feedId);\n            });\n\n        },\n\n        getActivityFeed: function(target) {\n            var self = this;\n            var feedName = $(target).attr('data-activity-feed');\n            var requestData = {\n              'feedSubject': feedName\n            };\n            $('.processingIndicator').css( 'display', 'block');\n            $.ajax({\n                    url: self.opt.activityFeedUrl,\n                    async: true,\n                    global: false,\n                    type: \"POST\",\n                    data: requestData,\n                    dataType: \"html\",\n                    success: function( data, textStatus, jqXHR ){\n                        $('.processingIndicator').css( 'display', 'none');\n                        self.showFeed(data, target);\n                    },\n                    error: function(jqXHR, textStatus, errorThrown) {\n                        $('.processingIndicator').css( 'display', 'none');\n                        self._handleServerError(jqXHR, textStatus, errorThrown);\n                    }\n                }\n            );\n            return null;\n        },\n\n        watchThread: function(feedId) {\n            var self = this;\n            $.ajax({\n                url: self.opt.watchThreadUrl+'/'+feedId,\n                async: true,\n                global: false,\n                type: \"GET\",\n                dataType: \"json\",\n                success: function( data, textStatus, jqXHR ){\n                    $.platform._handleServerResponse(jqXHR);\n                },\n                error: function(jqXHR, textStatus, errorThrown) {\n                    self._handleServerError(jqXHR, textStatus, errorThrown);\n                }\n            });\n        },\n\n        reloadFeed: function(feedName) {\n            var self = this;\n            $('[data-activity-feed='+feedName+']').each(function(i, el){\n                self.getActivityFeed(el);\n            });\n        },\n\n        _handleServerError: function(jqXHR, textStatus, errorThrown) {\n            $.platform._handleServerError(jqXHR, textStatus, errorThrown);\n        },\n\n        showFeed: function (data, target) {\n            $(target).html(data);\n        }\n\n\n    };\n\n    $.activity = new Activity();\n\n})(jQuery, window, document);\n\n\n\n","(function($, window, document) {\n    'use strict';\n    var defaults = {\n        unloadMessage: 'Zamierzasz opuścić stronę na której są niezapisane dane. Czy napewno?',\n        monitorForUnsavedChanges: false,\n        unsaved: false\n    };\n\n    function C4Forms(options) {\n        this.opt = $.extend({}, defaults, options);\n        this.$body = $(document.body);\n        this.$window = $(window);\n    }\n\n    C4Forms.prototype = {\n        _init: function(){\n            var self = this;\n            if (self.opt.monitorForUnsavedChanges === true) {\n                self.alertUnsavedChanges();\n            }\n\n            //BIND FORMS\n            $(document.body).on('click', 'form.ajax button[type=\"submit\"], form.ajax input[type=\"submit\"]', function(){\n                var options = {\n                    beforeSubmit:  self.showRequest,  // pre-submit callback\n                    success:       self.showResponse,  // post-submit callback\n                    error:         self.showErrors,\n\n                    type:          'post',\n                    dataType:      'json'\n                };\n                $('form.ajax').ajaxForm(options);\n            });\n\n            //CONFIRM DELETE\n            $(document.body).on('click', '.confirmDelete', function(e){\n                var message = 'Czy napewno usunąć \"'+ $(this).data('name') +'\"?';\n                return confirm(message);\n            });\n        },\n\n        alertUnsavedChanges: function(){\n            var self = this;\n\n            $(document).on('change', 'form[method=post]:not([data-remote]) :input', function() {\n                return self.opt.unsaved = true;\n            });\n\n            $(document).on('page:change', function() {\n                return setTimeout((function() {\n                    return self.opt.unsaved = false;\n                }), 10);\n            });\n\n            $(document).on('submit', 'form[method=post]', function() {\n                self.opt.unsaved = false;\n            });\n\n            $(window).bind('beforeunload', function() {\n                if (self.opt.unsaved) {\n                    return self.opt.unloadMessage;\n                }\n            });\n\n            $(document).on('page:before-change', function(event) {\n                if (self.opt.unsaved && !confirm(self.opt.unloadMessage)) {\n                    return event.preventDefault();\n                }\n            });\n        },\n\n        // pre-submit callback\n        showRequest: function(formData, jqForm, options) {\n\n            $('.error').removeClass('error');\n            $('.field-error').remove();\n            $('.messageBox').empty();\n            $('button[type=\"submit\"], input[type=\"submit\"]').attr(\"disabled\", true);\n\n            $('.processingIndicator').css( 'display', 'block');\n            return true;\n        },\n\n        // post-submit callback\n        showResponse: function(responseText, statusText, xhr, $form)  {\n            $('.processingIndicator').css( 'display', 'none');\n            $('button[type=\"submit\"], input[type=\"submit\"]').attr(\"disabled\", false);\n\n            if (typeof responseText.status !== \"undefined\") {\n                if (responseText.status === \"success\") {\n\n                    //Obsługa jsRedirect\n                    if (typeof responseText.redirect !== \"undefined\") {\n                        $('.redirectOverlay').css('display','block');\n                        window.location.replace(responseText.redirect);\n                    }\n\n                    //Obsługa execScript\n                    if (typeof responseText.evalScript !== \"undefined\") {\n                        eval(\"(\"+responseText.evalScript+\")\");\n                    }\n                }\n            }\n        },\n\n        // Iterując po tablicy błędów wyświetla je przy ospowiednich polach\n        showFieldErrors: function($form, errors) {\n            $('.processingIndicator').css( 'display', 'none');\n            $('button[type=\"submit\"], input[type=\"submit\"]').attr(\"disabled\", false);\n\n            //Jeżeli przeglądarka nie parsowała odpowiedzi serwera jako json robimy to ręcznie\n            if (typeof errors === 'string') {\n                errors = jQuery.parseJSON( errors );\n            }\n\n            //Przesłane błędy nie są w formacie JSON\n            if (typeof errors !== 'object') { console.log('form.js: Errors are not in object form'); return false; }\n\n            jQuery.each(errors, function(fieldName, messageArray) {\n                var errorLabel = '';\n                if (fieldName === 'messageBox') {\n                    var alertBox = $(document.createElement('div')).addClass('alert alert-danger');\n                    for (var op = 0; op < messageArray.length; op++) {\n                        alertBox.append('<p>'+messageArray[op]+'</p>');\n                    }\n                    $form.find('.messageBox').html(alertBox);\n                } else if (fieldName === 'popup') {\n\n                } else {\n                    for (var lp = 0; lp < messageArray.length; lp++) {\n                        errorLabel += '<label id=\"' + fieldName + '-error\" class=\"error field-error\" for=\"' + fieldName + '\">' + messageArray[lp] + '</label>';\n                    }\n                    $form.find('#form-' + fieldName).addClass('error').parent().append(errorLabel);\n                }\n            });\n            return true;\n        },\n        // onError callback\n        showErrors: function(response, status, statusText, $form) {\n            var self = this;\n            toastr.error(\"W przesłanym formularzu są błędy\", \"Błąd formularza\");\n            return $.c4forms.showFieldErrors($form, response.responseText);\n        },\n        ajaxSuccess: function() {}\n    };\n\n    $.c4forms = new C4Forms();\n\n})(jQuery, window, document);\n\n\n\n","var slug = function (str) {\n    str = str.replace(/^\\s+|\\s+$/g, ''); // trim\n    str = str.toLowerCase();\n\n    // remove accents, swap ñ for n, etc\n    var from = \"ąãàáäâęẽèéëêìíïîõòóöôùúüûñńçćśłżź·/_,:;\";\n    var to = \"aaaaaaeeeeeeiiiiooooouuuunnccslzz------\";\n    for (var i = 0, l = from.length; i < l; i++) {\n        str = str.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i));\n    }\n\n    str = str.replace(/[^a-z0-9 -]/g, '') // remove invalid chars\n        .replace(/\\s+/g, '-') // collapse whitespace and replace by -\n        .replace(/-+/g, '-'); // collapse dashes\n\n    return str;\n};\n\n\n$(document).ready(function () {\n\n    $('#top-search').on('focusin', function () {\n        if ($(this).val().length > 2) {\n            $('.search-dropdown').show();\n        }\n    });\n\n    $('body').not('.search-dropdown, #top-search').on('click', function (e) {\n        $('.search-dropdown').hide();\n    });\n\n});"],"sourceRoot":"/source/"}
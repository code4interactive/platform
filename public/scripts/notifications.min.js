(function($,window,document){'use strict';var defaults={requestData:{responseTarget:"default",responseVariant:"getEvents",responseType:"json"}}
function Notifications(options){this.opt=$.extend({},defaults,options);this.$body=$(document.body);this.$window=$(window);this.id;}
Notifications.prototype={_init:function(){},clear:function(){$('#gritter-notice-wrapper').remove();},check:function(async){var self=this
async=typeof async!=='undefined'?async:false;$.ajax({url:"/getNotifications",async:async,global:false,type:"POST",data:self.opt.requestData,dataType:"json",beforeSend:function(data){},success:function(data,textStatus,jqXHR){self._handleServerSuccess(data,textStatus,jqXHR);},complete:function(eCode){},error:function(jqXHR,textStatus,errorThrown){self._handleServerError(jqXHR,textStatus,errorThrown);}});return null;},_handleServerSuccess:function(data,textStatus,jqXHR){var self=this;$.each(data,function(l,n){if(typeof n=='object'){switch(n.type){case"info":self.showInfo("Informacja",n.message);break;case"success":self.showSuccess("Sukces",n.message);break;case"warning":self.showWarning("Ostrzeżenie",n.message);break;case"error":self.showError("Wystąpił błąd",n.message,true);break;}}});},showInfo:function(title,text,sticky,image){this.showMessage(title,text,'info',sticky,image);},showSuccess:function(title,text,sticky,image){this.showMessage(title,text,'success',sticky,image);},showWarning:function(title,text,sticky,image){this.showMessage(title,text,'warning',sticky,image);},showError:function(title,text,sticky,image){this.showMessage(title,text,'error',sticky,image);},showMessage:function(title,text,type,sticky,image){title=typeof title=='undefined'?'':title;text=typeof text=='undefined'?'':text;type=typeof type=='undefined'?'info':type;sticky=typeof sticky=='undefined'?false:sticky;image=typeof image=='undefined'?false:image;var class_name='gritter-info';switch(type){case'info':class_name='gritter-info';break;case'success':class_name='gritter-success';break;case'warning':class_name='gritter-warning';break;case'error':class_name='gritter-error';break;}
this.id=$.gritter.add({title:title,text:text,image:image,sticky:sticky,time:8000,class_name:class_name,fade_in_speed:'medium',fade_out_speed:1,before_open:function(){},after_open:function(e){},before_close:function(e,manual_close){},after_close:function(){}});}}
$.notifications=new Notifications();})(jQuery,window,document);